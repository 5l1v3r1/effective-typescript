
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
            <title>Effective TypeScript &rsaquo; The Book</title>
            <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

            <script type="text/javascript" src="//use.typekit.net/wsb2ykq.js"></script>
            <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
            <link href="//effectivetypescript.com/theme/css/bootstrap.min.css" rel="stylesheet" />
            <link href="//effectivetypescript.com/theme/css/customize.css" rel="stylesheet" />

            <link rel="icon" type="image/jpg" href="https://effectivetypescript.com/images/favicon.jpg">

            <meta name="description" content=".">

            <meta name="twitter:card" content="summary">
            <meta name="twitter:creator" content="@danvdk">
            <meta name="twitter:domain" content="effectivetypescript.com">
            <meta name="twitter:title" content="Effective TypeScript &rsaquo; The Book">
            <meta name="twitter:description" content="Effective TypeScript…">
            <meta name="twitter:img:src" content="https://effectivetypescript.com/images/cover.jpg">

            <meta property="og:title" content="Effective Python &rsaquo; The Book">
            <meta property="og:description" content="Effective Python...">
            <meta property="og:image" content="https://effectivetypescript.com/images/cover.jpg">
            <meta property="og:url" content="https://effectivetypescript.com/">

            <link href="https://effectivetypescript.com/atom.xml" type="application/atom+xml" rel="alternate" title="Effective Python Atom Feed" />

            <meta name="google-site-verification" content="...">

        <!--<script async src="https://www.googletagmanager.com/gtag/js?id=UA-53888969-1"></script>-->
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());

          // TODO(danvk): enable this
          // gtag('config', 'UA-53888969-1');

          // var trackOutboundLink = function(category, url) {
          //     gtag('event', 'click', {
          //         'event_category': category,
          //         'event_label': url,
          //         'transport_type': 'beacon',
          //         'event_callback': function() { document.location = url; }
          //     });
          // }
        </script>
    </head>

    <body class="second-edition">
        <div class="header">
            <div class="container">
                    <div class="row">
                        <div class="col-md-12">
                            <h1 class="site-title">
                              <a href="https://effectivetypescript.com/">
                                <span class="effective-type">Effective</span>
                                <span class="python-p-type">T</span><span class="python-rest-type">ype</span>
                                <span class="python-p-type">S</span><span class="python-rest-type">cript</span>
                              </a>
                            </h1>
                        </div>
                    </div>
                </div>
            </div>
        </div>



<section id="the-book" class="content">


<div class="title-bar">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h1>The Book</h1>
            </div>
        </div>
    </div>
</div>


<div class="page-content">
    <div class="container">


        <div class="row">
            <div class="col-md-12">

            </div>
        </div>
    </div>
</div>

</section>


<section id="preface" class="content">


<div class="page-content">
    <div class="container">


        <div class="row">
            <div class="col-md-12">
                <h2>Preface</h2>
<div>
    <a href="https://amzn.to/30fJtiG" onclick="trackOutboundLink('cover image', 'https://amzn.to/30fJtiG'); return false;"><img src="https://effectivetypescript.com/images/cover.jpg" class="cover-photo" alt="Effective TypeScript Book Cover"></a>
</div>

<p>
  TypeScript is a typed superset of JavaScript with the potential to solve many of the headaches for which JavaScript is famous. But TypeScript has a learning curve of its own, and understanding how to use it effectively can take time.
</p>
<p>
  <i>Effective TypeScript</i> guides you through 62 specific ways to improve your use of TypeScript, following the format popularized by <i>Effective C++</i> and <i>Effective Java</i> (both from Addison-Wesley). You’ll advance from a beginning or intermediate user familiar with the basics to an advanced user who knows how to use the language well.
</p>

<p><a target="_blank" href="https://amzn.to/30fJtiG" onclick="trackOutboundLink('preface', 'https://amzn.to/30fJtiG'); return false;" class="btn btn-info btn-lg primary">Buy the Book on Amazon</a>
<a target="_blank" href="https://click.linksynergy.com/link?id=YvEWtFaKGwg&offerid=145238.2820370&type=2&murl=http%3A%2F%2Fwww.informit.com%2Ftitle%2F9780134854762" onclick="trackOutboundLink('preface', 'https://click.linksynergy.com/link?id=YvEWtFaKGwg&offerid=145238.2820370&type=2&murl=http%3A%2F%2Fwww.informit.com%2Ftitle%2F9780134854762'); return false;" class="btn btn-info btn-lg">Buy the <span class="caps">DRM</span>-free eBook</a></p>
<h2>Already Have the Book?</h2>
<p><a href="https://github.com/bslatkin/effectivepython" onclick="trackOutboundLink('already have book', 'https://github.com/danvk/effectivetypescript'); return false;">Visit the GitHub project</a> to see all of the code snippets from the book in one place. Run and modify the example code yourself to confirm your understanding. You can also <a href="https://www.oreilly.com/catalog/errata.csp?isbn=0636920261544" onclick="trackOutboundLink('report any errors', 'https://github.com/bslatkin/effectivepython/issues/new'); return false;">report any errors</a> you&#8217;ve found.</p>
<p>For future updates about the book, related videos, translations, conference presentations, and more, choose one of these ways to stay in touch:</p>
<div>
    <a target="_blank" href="https://eepurl.com/4laun" onclick="trackOutboundLink('get emailed', 'https://eepurl.com/4laun'); return false;" class="btn btn-info btn-lg">Get Emailed</a>
    <a target="_blank" href="https://twitter.com/effectivepython" onclick="trackOutboundLink('follow on twitter', 'https://twitter.com/danvdk'); return false;" class="btn btn-info btn-lg">Follow @danvdk</a>
    <a class="btn btn-info btn-lg" href="/atom.xml" onclick="trackOutboundLink('follow RSS', '/atom.xml'); return false;"><span class="caps">RSS</span></a>
</div>
            </div>
        </div>
    </div>
</div>

</section>


<section id="more-info" class="content">


<div class="title-bar">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h1>More Info</h1>
            </div>
        </div>
    </div>
</div>


<div class="page-content">
    <div class="container">


        <div class="row">
            <div class="col-md-12">
                <h2>What This Book Covers</h2>
<p>Each chapter in <em>Effective TypeScript</em> contains a broad but related set of items. ...</p>

<h3>Chapter 1: Getting to Know TypeScript</h3>

<p>
  Before we dive into the details, this chapter helps you understand the big picture of TypeScript. What is it and how should you think about it? How does it relate to JavaScript? Are its types nullable or are they not? What's this about `any`? And ducks?
</p>

<ol start="1">
  <li>Understand the Relationship Between TypeScript and JavaScript</li>
  <li>Know Which TypeScript Options You’re Using</li>
  <li>Understand That Code Generation Is Independent of Types</li>
  <li>Get Comfortable with Structural Typing</li>
  <li>Limit Use of the <code>any</code> Type</li>
</ol>

<h3>Chapter 2: TypeScript’s Type System</h3>

<p>This chapter walks you through the nuts and bolts of TypeScript's type system: how to think about it, how to use it, choices you'll need to make, and features you should avoid. TypeScript's type system is surprisingly powerful and able to express things you might not expect a type system to be able to. The items in this chapter will give you a solid foundation to build upon as you write TypeScript and read the rest of this book.</p>

<ol start="6">
  <li>Use Your Editor to Interrogate and Explore the Type System</li>
  <li>Think of Types as Sets of Values</li>
  <li>Know How to Tell Whether a Symbol Is in the Type Space or Value Space</li>
  <li>Prefer Type Declarations to Type Assertions</li>
  <li>Avoid Object Wrapper Types (String, Number, Boolean, Symbol, BigInt)</li>
  <li>Recognize the Limits of Excess Property Checking</li>
  <li>Apply Types to Entire Function Expressions When Possible</li>
  <li>Know the Differences Between <code>type</code> and <code>interface</code></li>
  <li>Use Type Operations and Generics to Avoid Repeating Yourself</li>
  <li>Use Index Signatures for Dynamic Data</li>
  <li>Prefer Arrays, Tuples, and ArrayLike to number Index Signatures</li>
  <li>Use readonly to Avoid Errors Associated with Mutation</li>
  <li>Use Mapped Types to Keep Values in Sync</li>
</ol>

<h3>Chapter 3: Type Inference</h3>

<p>
  This chapter shows you some of the problems that can arise with type inference and how to fix them. After reading it, you should have a good understanding of how TypeScript infers types, when you still need to write type declarations, and when it's a good idea to write type declarations even when a type can be inferred.
</p>

<ol start="19">
  <li>Avoid Cluttering Your Code with Inferable Types</li>
  <li>Use Different Variables for Different Types</li>
  <li>Understand Type Widening</li>
  <li>Understand Type Narrowing</li>
  <li>Create Objects All at Once</li>
  <li>Be Consistent in Your Use of Aliases</li>
  <li>Use <code>async</code> Functions Instead of Callbacks for Asynchronous Code</li>
  <li>Understand How Context Is Used in Type Inference</li>
  <li>Use Functional Constructs and Libraries to Help Types Flow</li>
</ol>

<h3>Chapter 4: Type Design</h3>

<p>
  Code is difficult to understand if you can't see the data or data types on which it operates. This is one of the great advantages of a type system: by writing out types, you make them visible to readers of your code. And this makes your code understandable. Other chapters cover the nuts and bolts of TypeScript types: using them, inferring them, and writing declarations with them. This chapter discusses the design of the types themselves. The examples in this chapter are all written with TypeScript in mind, but most of the ideas are more broadly applicable.
</p>

<ol start="28">
  <li>Prefer Types That Always Represent Valid States</li>
  <li>Be Liberal in What You Accept and Strict in What You Produce</li>
  <li>Don’t Repeat Type Information in Documentation</li>
  <li>Push Null Values to the Perimeter of Your Types</li>
  <li>Prefer Unions of Interfaces to Interfaces of Unions</li>
  <li>Prefer More Precise Alternatives to String Types</li>
  <li>Prefer Incomplete Types to Inaccurate Types</li>
  <li>Generate Types from APIs and Specs, Not Data</li>
  <li>Name Types Using the Language of Your Problem Domain</li>
  <li>Consider “Brands” for Nominal Typing</li>
</ol>

<h3>Chapter 5: Working with <code>any</code></h3>

<p>
  Type systems were traditionally binary affairs: either a language had a fully static type system or a fully dynamic one. TypeScript blurs the line, because its type system is <em>optional</em> and <em>gradual</em>. You can add types to parts of your program but not others. This is essential for migrating existing JavaScript codebases to TypeScript bit by bit. Key to this is the <code>any</code> type,  which effectively disables type checking for parts of your code. It is both powerful and prone to abuse. Learning to use <code>any</code> wisely is essential for writing effective TypeScript. This chapter walks you through how to limit the downsides of <code>any</code> while still retaining its benefits.
</p>

<ol start="38">
  <li>Use the Narrowest Possible Scope for <code>any</code> Types</li>
  <li>Prefer More Precise Variants of <code>any</code> to Plain <code>any</code></li>
  <li>Hide Unsafe Type Assertions in Well-Typed Functions</li>
  <li>Understand Evolving <code>any</code></li>
  <li>Use <code>unknown</code> Instead of <code>any</code> for Values with an Unknown Type</li>
  <li>Prefer Type-Safe Approaches to Monkey Patching</li>
  <li>Track Your Type Coverage to Prevent Regressions in Type Safety</li>
</ol>

<h3>Chapter 6: Types Declarations and <code>@types</code></h3>

<p>
  Dependency management can be confusing in any language, and TypeScript is no exception. This chapter will help you build a mental model for how dependencies work in TypeScript and show you how to work through some of the issues that can come up with them. It will also help you craft your own type declaration files to publish and share with others. By writing great type declarations, you can help not just your own project but the entire TypeScript community.
</p>

<ol start="45">
  <li>Put TypeScript and <code>@types</code> in <code>devDependencies</code></li>
  <li>Understand the Three Versions Involved in Type Declarations</li>
  <li>Export All Types That Appear in Public APIs</li>
  <li>Use TSDoc for API Comments</li>
  <li>Provide a Type for <code>this</code> in Callbacks</li>
  <li>Prefer Conditional Types to Overloaded Declarations</li>
  <li>Mirror Types to Sever Dependencies</li>
  <li>Be Aware of the Pitfalls of Testing Types</li>
</ol>

<h3>Chapter 7: Writing and Running Your Code</h3>

<p>
  This chapter is a bit of a grab bag: it covers some issues that come up in writing code (not types) as well as issues you may run into when you run your code.
</p>

<ol start="53">
  <li>Prefer ECMAScript Features to TypeScript Features</li>
  <li>Know How to Iterate Over Objects</li>
  <li>Understand the DOM hierarchy</li>
  <li>Don’t Rely on Private to Hide Information</li>
  <li>Use Source Maps to Debug TypeScript</li>
</ol>

<h3>Chapter 8. Migrating to TypeScript</h3>

<p>
  You've heard that TypeScript is great. You also know from painful experience that maintaining your 15-year-old, 100,000-line JavaScript library isn't. If only it could become a TypeScript library! This chapter offers some advice about migrating your JavaScript project to TypeScript without losing your sanity and abandoning the effort.
</p>

<ol start="58">
  <li>Write Modern JavaScript</li>
  <li>Use <code>@ts-check</code> and JSDoc to Experiment with TypeScript</li>
  <li>Use <code>allowJs</code> to Mix TypeScript and JavaScript</li>
  <li>Convert Module by Module Up Your Dependency Graph</li>
  <li>Don’t Consider Migration Complete Until You Enable <code>noImplicitAny</code></li>
</ol>

            </div>
        </div>
    </div>
</div>

</section>


<section id="about-the-author" class="content">


<div class="title-bar">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h1>About the Author</h1>
            </div>
        </div>
    </div>
</div>


<div class="page-content">
    <div class="container">


        <div class="row">
            <div class="col-md-12">
                <h2>Dan Vanderkam</h2>
<div>
    <img class="about-photo" src="https://effectivetypescript.com/images/danvk_square.jpg" alt="Dan Vanderkam">
</div>

<p>
  Dan Vanderkam is a principal software engineer at <a href="https://sidewalklabs.com">Sidewalk Labs</a>, where he's built engineering teams and processes for all of its products and spinouts, all of which use TypeScript. He previously worked on <a href="https://github.com/hammerlab/pileup.js">open source genome visualizations</a> at Mt. Sinai's Icahn School of Medicine and on Google search features used by billions of people (search for <a href="https://google.com/search?q=sunset+nyc">sunset nyc</a> or <a href="https://google.com/search?q=population+of+france">population of france</a>). He has a long history of working on <a href="https://github.com/danvk">open source projects</a>, including the popular <a href="https://github.com/danvk/dygraphs">dygraphs library and <a href="https://github.com/danvk/source-map-explorer">source-map-explorer</a>, a tool for visualizing JavaScript code size. He is also a co-founder of the <a href="https://www.meetup.com/TypeScriptNYC/">NYC TypeScript Meetup</a>.
</p>

<p>
  When he's not programming, Dan enjoys climbing rocks and playing bridge. He writes on <a href="https://medium.com/@danvdk">Medium</a> and at <a href="http://danvk.org">danvk.org</a>. He earned his bachelor's in computer science from Rice University in Houston, Texas, and lives in Brooklyn, New York.
</p>

<div class="clear-images">
    <a target="_blank" href="https://twitter.com/danvdk" onclick="trackOutboundLink('about the author', 'https://twitter.com/danvdk'); return false;" class="btn btn-info btn-lg">Follow @danvdk</a>
    <a href="http://danvk.org" onclick="trackOutboundLink('about the author', 'http://danvk.org'); return false;" class="btn btn-info btn-lg">Visit Personal Site</a>
</div>
            </div>
        </div>
    </div>
</div>

</section>


<section id="updates" class="content">


<div class="title-bar">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h1>Updates</h1>
            </div>
        </div>
    </div>
</div>


<div class="page-content">
    <div class="container">


        <div class="row">
            <div class="col-md-12">

            </div>
        </div>
    </div>
</div>

</section>


<section id="posts" class="content">
    <div class="container">

        <div class="row hentry" id="prevent-repetition-with-assignment-expressions">
            <div class="col-md-12">
                <h2 class="entry-title"><a href="https://effectivetypescript.com/2020/02/02/prevent-repetition-with-assignment-expressions/">Item 10: Prevent Repetition with Assignment Expressions</a></h2>

                <div class="text-muted published-container">
                    <abbr class="published" title="2020-02-02T22:00:00-08:00">Sun 02 February 2020</abbr>
                </div>

                    <div class="entry-content">

<p>An assignment expression—also known as the <em>walrus operator</em>—is a new syntax introduced in Python 3.8 to solve a long-standing problem with the language that can cause code duplication. Whereas normal assignment statements are written <code>a = b</code> and pronounced &#8220;a equals b&#8221;, these assignments are written <code>a := b</code> and pronounced &#8220;a <em>walrus</em> b&#8221; (because <code>:=</code> looks like a pair of eyeballs and tusks).
                        <a class="read-more" href="https://effectivetypescript.com/2020/02/02/prevent-repetition-with-assignment-expressions/">Continue&nbsp;reading&nbsp;&raquo;</a>
                    </div>

            </div>
        </div>
        <div class="row hentry" id="prefer-class-decorators-over-metaclasses">
            <div class="col-md-12">
                <h2 class="entry-title"><a href="https://effectivetypescript.com/2019/12/18/prefer-class-decorators-over-metaclasses/">Item 51: Prefer Class Decorators Over Metaclasses for Composable Class Extensions</a></h2>

                <div class="text-muted published-container">
                    <abbr class="published" title="2019-12-18T23:00:00-08:00">Wed 18 December 2019</abbr>
                </div>

                    <div class="entry-content">

<p>Although metaclasses allow you to customize class creation in multiple ways (see Item 48: “Validate Subclasses with <code>__init_subclass__</code>” and Item 49: “Register Class Existence with <code>__init_subclass__</code>”), they still fall short of handling every situation that may arise.
                        <a class="read-more" href="https://effectivetypescript.com/2019/12/18/prefer-class-decorators-over-metaclasses/">Continue&nbsp;reading&nbsp;&raquo;</a>
                    </div>

            </div>
        </div>
        <div class="row hentry" id="digital-second-edition-available">
            <div class="col-md-12">
                <h2 class="entry-title"><a href="https://effectivetypescript.com/2019/11/06/digital-second-edition-available/">Digital Versions of the 2nd Edition are Now Available</a></h2>

                <div class="text-muted published-container">
                    <abbr class="published" title="2019-11-06T12:00:00-08:00">Wed 06 November 2019</abbr>
                </div>

                    <div class="entry-content"><p>You can immediately read the second edition of <em>Effective Python</em> as a <a target="_blank" href="https://click.linksynergy.com/link?id=YvEWtFaKGwg&offerid=145238.2820370&type=2&murl=http%3A%2F%2Fwww.informit.com%2Ftitle%2F9780134854762" onclick="trackOutboundLink('post', 'https://click.linksynergy.com/link?id=YvEWtFaKGwg&offerid=145238.2820370&type=2&murl=http%3A%2F%2Fwww.informit.com%2Ftitle%2F9780134854762'); return false;"><span class="caps">DRM</span>-free eBook</a>, <a target="_blank" href="https://amzn.to/2pQOqy2" onclick="trackOutboundLink('post', 'https://amzn.to/2pQOqy2'); return false;">on Kindle</a>, <a target="_blank" href="https://play.google.com/store/books/details/Brett_Slatkin_Effective_Python?id=9kG4DwAAQBAJ" onclick="trackOutboundLink('post', 'https://play.google.com/store/books/details/Brett_Slatkin_Effective_Python?id=9kG4DwAAQBAJ'); return false;">on Google Play</a>, and on <a href="https://learning.oreilly.com/library/view/effective-python-90/9780134854717/" onclick="trackOutboundLink('post', 'https://learning.oreilly.com/library/view/effective-python-90/9780134854717/'); return false;">O&#8217;Reilly Online Learning</a>.</p></div>

            </div>
        </div>
        <div class="row hentry" id="memoryview-bytearray-zero-copy-interactions">
            <div class="col-md-12">
                <h2 class="entry-title"><a href="https://effectivetypescript.com/2019/10/22/memoryview-bytearray-zero-copy-interactions/">Item 74: Consider <code>memoryview</code> and <code>bytearray</code> for Zero-Copy Interactions with <code>bytes</code></a></h2>

                <div class="text-muted published-container">
                    <abbr class="published" title="2019-10-22T05:00:00-07:00">Tue 22 October 2019</abbr>
                </div>

                    <div class="entry-content">

<p>Though Python isn’t able to parallelize <span class="caps">CPU</span>-bound computation without extra effort (see Item 64: “Consider <code>concurrent.futures</code> for True Parallelism”), it is able to support high-throughput, parallel I/O in a variety of ways (see Item 53: “Use Threads for Blocking I/O, Avoid for Parallelism” and Item 60: “Achieve Highly Concurrent I/O with Coroutines” for details). That said, it’s surprisingly easy to use these I/O tools the wrong way and reach the conclusion that the language is too slow for even I/O-bound workloads.
                        <a class="read-more" href="https://effectivetypescript.com/2019/10/22/memoryview-bytearray-zero-copy-interactions/">Continue&nbsp;reading&nbsp;&raquo;</a>
                    </div>

            </div>
        </div>
        <div class="row hentry" id="preorder-second-edition">
            <div class="col-md-12">
                <h2 class="entry-title"><a href="https://effectivetypescript.com/2019/10/21/preorder-second-edition/">Preorder the Second Edition</a></h2>

                <div class="text-muted published-container">
                    <abbr class="published" title="2019-10-21T23:00:00-07:00">Mon 21 October 2019</abbr>
                </div>

                    <div class="entry-content"><p><em>Effective Python: Second Edition</em> is now available for preorder. <a target="_blank" href="https://amzn.to/30fJtiG" onclick="trackOutboundLink('post', 'https://amzn.to/30fJtiG'); return false;">Follow this link to buy your copy in advance</a>. It will ship in mid-November (2019) once the book has finished printing and is stocked in the warehouse. <a target="_blank" href="https://click.linksynergy.com/link?id=YvEWtFaKGwg&offerid=145238.2820370&type=2&murl=http%3A%2F%2Fwww.informit.com%2Ftitle%2F9780134854762" onclick="trackOutboundLink('post', 'https://click.linksynergy.com/link?id=YvEWtFaKGwg&offerid=145238.2820370&type=2&murl=http%3A%2F%2Fwww.informit.com%2Ftitle%2F9780134854762'); return false;" >Digital editions will become available</a> when the physical book ships or sooner.</p></div>

            </div>
        </div>

    </div>
</section>


        <footer id="contentinfo" class="footer">
            <div class="container">
                <address id="about" class="vcard body">
                    &copy; 2014 - 2020 <a class="url fn" href="https://onebigfluke.com" onclick="trackOutboundLink('footer', 'https://onebigfluke.com'); return false;">Brett Slatkin</a>
                    <div class="footer-attribution">Powered by <a href="https://getpelican.com/" onclick="trackOutboundLink('footer', 'https://getpelican.com/'); return false;" rel="nofollow">Pelican</a></div>
                </address>
            </div>
        </footer>
    </body>
</html>